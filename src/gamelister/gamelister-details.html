<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="gamelister-details">

  <template>

    <app-route
        route="{{route}}"
        pattern="/:game"
        data="{{routeData}}"></app-route>

    <div>
      <img src="[[data.pic]]"></img>
    </div>
    <a href="/list">Back</a>

    <style>
      :host img {
        margin: 10px;
      }
    </style>

  </template>

  <script>

    Polymer({
      is: 'gamelister-details',

      properties: {

      routeData: {
        type: Object,
        observer: '_routeDataChanged'
      },

       data: {
        type: Object
       },

       game: {
        type: String,
        notify: true
       }
       
      },

      _routeDataChanged: function(pageData, oldPageData) {
        this.game = decodeURIComponent(pageData.game);

   /*   fetch('/api/details/' + pageData.game)
          .then(function (res) {
            return res.json();
          })
          .then(function (data) {
            this.set('data', data);
          }.bind(this))*/
        this.set('data', this._loadDummyData());
      },

      _loadDummyData: function() {
        return {
          pic: 'http://cdn.akamai.steamstatic.com/steam/apps/566700/header.jpg'
        }
      }

    });


  </script>

</dom-module>
